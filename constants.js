const THEMES = {
    matrix: { primary: '#00ff00', background: '#000000', accent: '#003300' },
    cyberpunk: { primary: '#ff00ff', background: '#000033', accent: '#00ffff' },
    sunset: { primary: '#ff8800', background: '#1a0033', accent: '#ff3300' },
    neon: { primary: '#0ff', background: '#001', accent: '#06f' }
};

const MATRIX_CONFIG = {
    MAX_TRAIL_LENGTH: 30,
    MAX_CONCURRENT_DROPS: 5,
    HEAD_CHARS: ['@', '#', 'Â£', 'â‚¬', 'Â¥', 'Â§', 'Â¶', 'Å§'],
    TRAIL_CHARS: ['*', '+', 'Â·', '~', ':', '"', 'Â°', 'Â·'],
    GLOW_CHARS: ['Ã†', 'Ã˜', 'Å’', 'Âª', 'Âº', 'â‚¿', 'Â¢', 'Â¿'],
    BASE_SPEED: 0.04,
    DROP_VARIANCE: 0.6,
    MAX_SPEED: 0.7,
    SPARKLE_RATE: 0.005
};

const MODES = [
    'Wave', 'Spiral', 'Vortex',
    'Mandala', 'Tunnel', 'Fractal', 'Interference', 
    'Psychedelic', 'Cellular', 'Shockwave', 'Plasma', 'Ripple',
    'Matrix', 'Camera'
];

const CHAR_SETS = [
    { name: 'Basic', chars: ['@', '#', '$', '%', '&', '*', '+', '=', '-', ':', '.', 'Â·'] },
    { name: 'Blocks', chars: ['â–ˆ', 'â–“', 'â–’', 'â–‘', 'â–„', 'â–€', 'â– ', 'â–¡', 'â—¼', 'â—»'] },
    { name: 'Lines', chars: ['â•‘', 'â•', 'â•¬', 'â•©', 'â•¦', 'â•£', 'â• ', 'â•—', 'â•', 'â•š', 'â•”'] },
    { name: 'Math', chars: ['Ï€', 'âˆž', 'Î£', 'âˆ«', 'Î”', 'âˆš', 'â‰ˆ', 'â‰ ', 'â‰¤', 'â‰¥', 'Â±'] },
    { name: 'Shapes', chars: ['â—†', 'â—ˆ', 'â—‹', 'â—Ž', 'â—', 'â—•', 'â—”', 'â˜…', 'â˜†', 'âœ¦'] },
    { name: 'Binary', chars: ['0', '1'] },
    { 
        name: 'Arrows', 
        chars: ['â†','â†‘','â†’','â†“','â†”','â†•','â†–','â†—','â†˜','â†™','â†º','â†»']
    },
    {
        name: 'Greek',
        chars: ['Î±','Î²','Î³','Î´','Îµ','Î¶','Î·','Î¸','Î¹','Îº','Î»','Î¼','Î½','Î¾','Î¿','Ï€','Ï','Ïƒ','Ï„','Ï…','Ï†','Ï‡','Ïˆ','Ï‰']
    },
    {
        name: 'Dots',
        chars: ['â£€','â£„','â£¤','â£¦','â£¶','â£·','â£¿','â¡¿','â¢Ÿ','â£»','â£½','â£¾','â ','â ‚','â „','â¡€','â¢€','â  ','â ','â ˆ']
    },
    {
        name: 'Braille',
        chars: ['â£¿','â¢¿','â£»','â£½','â£¾','â£·','â£¯','â£Ÿ','â¡¿','â ¿','â¢»','â£¹','â£¤','â£„','â£ ','â¡€','â „','â ‚','â ','â €']
    },
    {
        name: 'Technical',
        chars: ['âŒ˜','âŒ¥','âŒ«','âŒ¦','âŽ‹','â‡§','âŒƒ','âŽ','â','â»','â¼','â­¾','âŒ…','âŒ¤','âŒ·','âŒ¨','â†','â…','â‡','âˆ']
    },
    {
        name: 'Currency',
        chars: ['$','â‚¬','Â£','Â¥','Â¢','â‚½','â‚©','â‚º','â‚´','â‚¹','â‚¿','â‚¸','â‚®','â‚¦','â‚¡','â‚«','â‚­','â‚±','â‚²','â‚µ','â‚³','â‚ ']
    },
    {
        name: 'Emoji',
        chars: ['â˜€','â˜','â˜‚','â˜ƒ','â˜„','â˜…','â˜†','â˜‡','â˜ˆ','â˜‰','â˜Š','â˜‹','â˜Œ','â˜','â˜Ž','â˜','â˜','â˜‘','â˜’','â˜•','â˜–','â˜—']
    },
    {
        name: 'Chess',
        chars: ['â™”','â™•','â™–','â™—','â™˜','â™™','â™š','â™›','â™œ','â™','â™ž','â™Ÿ']
    },
    {
        name: 'Weather',
        chars: ['â˜€ï¸','â˜ï¸','â›…ï¸','ðŸŒ§ï¸','â›ˆï¸','ðŸŒ©ï¸','â„ï¸','ðŸ’§','ðŸŒªï¸','ðŸŒˆ','â˜”ï¸']
    },
    {
        name: 'Music',
        chars: ['â™©','â™ª','â™«','â™¬','â™­','â™¯','ðŸŽµ','ðŸŽ¶','ðŸŽ·','ðŸŽº','ðŸŽ¸','ðŸ¥']
    },
    {
        name: 'Stars',
        chars: ['â˜…','â˜†','âœ¦','âœ§','âœ©','âœª','âœ«','âœ¬','âœ­','âœ®','âœ¯']
    },
    {
        name: 'Animals',
        chars: ['ðŸ…','ðŸ†','ðŸ¦“','ðŸ¦','ðŸ˜','ðŸ¦›','ðŸŠ','ðŸ¢','ðŸ','ðŸ¦Ž','ðŸ“']
    },
    {
        name: 'Plants',
        chars: ['ðŸŒµ','ðŸŽ„','ðŸŒ²','ðŸŒ³','ðŸŒ´','ðŸŒ±','ðŸŒ¿','â˜˜ï¸','ðŸ€','ðŸŽ']
    },
    {
        name: 'Tools',
        chars: ['âš’ï¸','ðŸ› ï¸','ðŸ”§','ðŸ”¨','âš”ï¸','ðŸ’£','ðŸ”«','ðŸ¹','ðŸª“','ðŸ”—']
    },
    {
        name: 'Shapes2',
        chars: ['â—–','â——','â—‘','â—','â—“','â—’','â—†','â—‡','â—ˆ','â—‰','â—Ž','â—Œ','â—']
    },
    {
        name: 'MonoShapes',
        chars: ['â—¼','â—»','â—¢','â—£','â—¤','â—¥','â—§','â—¨','â—©','â—ª','â—«']
    },
    {
        name: 'Fractions',
        chars: ['Â½','â…“','â…”','Â¼','Â¾','â…•','â…–','â…—','â…˜','â…™','â…š','â…›','â…œ','â…','â…ž']
    },
    {
        name: 'Math2',
        chars: ['âˆ©','âˆª','âˆˆ','âˆ‰','âˆ…','âˆ','âˆ‘','âˆš','âˆ›','âˆœ','âˆž','âˆ¡','âˆ¢','âˆ¥','âˆ¦']
    },
    {
        name: 'Boxes',
        chars: [' ','â–‚','â–ƒ','â–„','â–…','â–†','â–‡','â–ˆ','â–‰','â–Š','â–‹','â–Œ','â–','â–Ž','â–']
    },
    {
        name: 'Circles',
        chars: ['â—‹','â—Œ','â—','â—Ž','â—‰','â—','â—¯','â¦¿','â¦¾','â¦½','â¦¼','â¦»','â¦¸','â¦·','â¦¶']
    },
    {
        name: 'Stars2',
        chars: ['âœ¶','âœ·','âœ¸','âœ¹','âœº','âœ»','âœ¼','âœ½','âœ¾','âœ¿','â€','â','â‚','âƒ','â‡']
    },
    {
        name: 'Arrows2',
        chars: ['â†ž','â†Ÿ','â† ','â†¡','â†¢','â†£','â†¤','â†¥','â†¦','â†§','â†¨','â†«','â†¬','â†­','â†®']
    },
    {
        name: 'Shapes3',
        chars: ['â—°','â—±','â—²','â—³','â—´','â—µ','â—¶','â—·','â—¸','â—¹','â—º','â—»','â—¼','â—½','â—¾']
    },
    {
        name: 'Currency2',
        chars: ['â‚ ','â‚¡','â‚¢','â‚£','â‚¤','â‚¥','â‚¦','â‚§','â‚¨','â‚©','â‚ª','â‚«','â‚¬','â‚­','â‚®']
    },
    {
        name: 'Misc',
        chars: ['âŒ–','âŒ—','âŒ˜','âŒ™','âŒš','âŒ›','âŒœ','âŒ','âŒž','âŒŸ','âŒ ','âŒ¡','âŒ¢','âŒ£','âŒ¤']
    },
    {
        name: 'Braille2',
        chars: ['â£¾','â£½','â£»','â¢¿','â¡¿','â£Ÿ','â£¯','â£·','â£¿','â£¶','â£¤','â£„','â£€','â¢€','â¡€','â „','â ‚','â ']
    },
    {
        name: 'Dots2',
        chars: ['â¡€','â¡','â¡‚','â¡ƒ','â¡„','â¡…','â¡†','â¡‡','â¡ˆ','â¡‰','â¡Š','â¡‹','â¡Œ','â¡','â¡Ž','â¡']
    },
    {
        name: 'Dots3',
        chars: ['â ','â ‚','â „','â¡€','â¢€','â  ','â ','â ˆ','â ˜','â ƒ','â …','â †','â ‡','â¡ˆ','â¡‰','â¡Š','â¡‹','â¡Œ']
    },
    {
        name: 'BlockDots',
        chars: ['â–‘','â–’','â–“','â–š','â–ž','â–›','â–œ','â–Ÿ','â–™','â–','â–—','â––','â–˜','â–”','â–•','â–','â–Ž','â–']
    },
    {
        name: 'CircleDots',
        chars: ['â—Œ','â—','â—Ž','â—','â—‹','â—¯','â¦¿','â¦¾','â¦½','â¦¼','â¦»','â¦¸','â¦·','â¦¶','âš‡','âšˆ','âš‰']
    }
];

// Update existing CHARS to maintain compatibility
const CHARS = CHAR_SETS[0].chars;

class Ripple {
    constructor(x, y, maxRadius) {
        this.x = x;
        this.y = y;
        this.radius = 0;
        this.maxRadius = maxRadius;
        this.speed = 0.5;
        this.strength = 1;
        this.life = 1;
    }

    update() {
        this.radius += this.speed;
        this.life = 1 - (this.radius / this.maxRadius);
        return this.life > 0;
    }
} 